# 복슬퀀트 기능 요구사항

## 1. 프로젝트 개요

### 1.1 목표
- 다양한 퀀트 투자 전략의 성과를 검증, 분석, 시각화하는 백테스팅 시스템
- Python 기반 콘솔 프로그램으로 개발
- GUI 및 웹 환경은 지원하지 않음 (향후 확장 가능)

### 1.2 핵심 가치 제안
- 전문적인 퀀트 투자 전략 백테스팅
- 직관적인 성과 분석 및 시각화
- 확장 가능한 모듈형 아키텍처
- 다양한 자산군 지원 (주식, ETF, 암호화폐)

## 2. 핵심 기능

### 2.1 데이터 수집 및 관리
- **미국 주식 데이터**: S&P 500, 나스닥, 개별 종목
- **한국 주식 데이터**: KOSPI, KOSDAQ, 개별 종목
- **ETF 데이터**: SPY, QQQ, VTI 등
- **암호화폐 데이터**: BTC, ETH 등 주요 코인
- **실시간 데이터 수집**: yfinance, pandas-datareader 활용
- **데이터 캐싱**: 성능 최적화를 위한 로컬 저장

### 2.2 투자 전략 구현
- **일시투자 vs 적립식투자** 비교 분석
- **모멘텀 전략**: 가격/수익률 기반 추세 추종
- **변동성 돌파 전략**: 볼린저 밴드, ATR 기반
- **평균회귀 전략**: RSI, 이동평균 기반
- **포트폴리오 리밸런싱**: 주기적 자산 재배분

### 2.3 백테스팅 엔진
- **벡터화 백테스팅**: 고속 성과 계산
- **이벤트 기반 백테스팅**: 실제 거래 환경 시뮬레이션
- **수수료 및 슬리피지** 반영
- **다양한 주문 유형** 지원 (시장가, 지정가, 정지손실)

### 2.4 성과 분석
- **수익률 지표**: 총수익률, 연평균수익률, 월별수익률
- **위험 지표**: 샤프 비율, 최대 손실(MDD), 변동성
- **승률 및 손익 비율**: 승률, 평균 수익/손실
- **벤치마크 비교**: 시장 지수 대비 성과

### 2.5 시각화 및 리포팅
- **수익률 곡선**: 시간별 누적 수익률
- **손익 분포**: 히스토그램, 박스플롯
- **드로다운 차트**: 최대 손실 기간 시각화
- **월별/연도별 히트맵**: 성과 패턴 분석
- **CSV/Excel 결과 내보내기**

## 3. 부가 기능
- **시나리오 분석**: 다양한 시장 조건에서의 성과
- **파라미터 최적화**: 전략 변수 자동 튜닝
- **위험 관리**: 포지션 사이징, 정지손실
- **다중 전략 조합**: 포트폴리오 수준 분석

## 4. 사용자 시나리오

### 4.1 기본 사용 시나리오
```bash
# 1. 프로그램 실행
python main.py

# 2. 전략 선택
> 전략을 선택하세요:
  1) 일시투자 vs 적립식투자
  2) 모멘텀 전략
  3) 변동성 돌파 전략
> 1

# 3. 설정 입력
> 분석 종목: AAPL
> 분석 기간: 2014-01-01 ~ 2024-01-01
> 초기 자본: 100000
> 월 적립금: 1000

# 4. 결과 확인
> 백테스팅 완료!
> 일시투자 수익률: 245.3%
> 적립식투자 수익률: 178.9%
> 상세 리포트: results/report_20240101.html
```

### 4.2 고급 사용 시나리오
- 다중 종목 포트폴리오 분석
- 파라미터 최적화 실행
- 사용자 정의 전략 구현
- 리스크 관리 시뮬레이션

## 5. 확장 계획

### 5.1 단기 확장 (6개월)
- 추가 투자 전략 구현
- 암호화폐 데이터 지원
- 실시간 알림 기능
- API 제공

### 5.2 장기 확장 (1년+)
- 웹 인터페이스 개발
- 클라우드 배포
- 머신러닝 기반 전략
- 커뮤니티 기능

## 6. 위험 요소 및 대응

### 6.1 기술적 위험
- **데이터 소스 변경**: 다중 데이터 소스 지원
- **API 제한**: 캐싱 및 배치 처리
- **성능 이슈**: 병렬 처리 및 최적화

### 6.2 비즈니스 위험
- **시장 변화**: 유연한 전략 구조
- **규제 변경**: 법적 고지 및 면책
- **경쟁 서비스**: 차별화된 기능 개발

## 7. 성공 지표

### 7.1 기술적 지표
- 코드 커버리지 80% 이상
- 백테스팅 속도 목표 달성
- 메모리 사용량 기준 준수

### 7.2 사용성 지표
- 사용자 매뉴얼 완성도
- 예제 코드 제공
- 커뮤니티 피드백 수집